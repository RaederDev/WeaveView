<p-splitter class="block h-screen [&>div]:h-full" [panelSizes]="[30, 70]">
  <ng-template pTemplate>
    <div class="overflow-scroll flex flex-col w-full">
      <div class="basis-0 flex w-full justify-between gap-5 items-center py-2 px-5">
        <div class="p-input-icon-left w-full">
          <i class="pi pi-search"></i>
          <input pInputText placeholder="Search" class="w-full" />
        </div>
        <button
          pButton
          icon="pi pi-plus"
          class="min-w-12"
          size="small"
          aria-label="Add connection"
          (click)="createConnectionVisible.set(true)"
        ></button>
      </div>
      <app-connection-tree
        class="block w-full flex-grow"
        (onCollectionSelected)="selectedCollection.set($event)"
      ></app-connection-tree>
    </div>
  </ng-template>
  <ng-template pTemplate>
    <div class="flex-grow bg-gray-700 max-w-full overflow-scroll">
      @if (selectedCollection()) {
        <app-connection-view
          [selectedCollection]="selectedCollection()"
          class="block w-full h-full"
        ></app-connection-view>
      }
    </div>
  </ng-template>
</p-splitter>

@if (createConnectionVisible()) {
  <app-create-connection [(visible)]="createConnectionVisible"></app-create-connection>
}
